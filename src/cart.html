<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="my-view3">

    <template>



        <template is="dom-if" if="{{!total}}">
            <p>You have no items in your cart, <a href="/#/view2">add some!</a></p>
        </template>

        <template is="dom-if" if="{{total}}">
            <p>Total {{total}}</p>
        </template>

        <ul>
            <template is="dom-repeat" items="[[todos]]">
                <li>
                    <span>[[item.name]]</span>
                    <span>[[item.amount]]</span>
                    <button on-click="removeItem">Remove</button>

                </li>
            </template>
        </ul>


    </template>

    <script>


        Polymer({
            is: 'my-view3',
            behaviors: [ReduxBehavior],
            properties: {
                todos: {
                    type: Array,
                    statePath: 'cartReducer.items'
                },total: {
                    type: Number,
                    statePath: 'cartReducer.totalItems'
                }
            },

            actions: {
                remove: function (item) {
                    return {
                        type: 'REMOVE_ITEM',
                        item: item
                    };
                }
            },
            removeItem: function (event) {
                this.dispatch('remove', event.model.item);
            }
        });
    </script>

    </template>


</dom-module>


